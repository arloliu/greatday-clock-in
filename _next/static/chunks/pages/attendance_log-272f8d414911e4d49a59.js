(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{1766:function(n,e,t){"use strict";t.r(e);var a=t(6952),s=t(4565),c=t(8742),r=t.n(c),i=t(1320),o=t.n(i),l=t(6380),u=t.n(l),d=t(4127),f=t.n(d),h=t(7378),m=t(8038),x=t(6677),g=t(373),p=t(8559),j=t(6877),Z=t(9334),v=t(489),k=t(4509),w=t(1995),_=t(4954),b=t(6107),N=t(7712),y=t(8340),E=t(4246),A=(0,g.Z)((function(n){return(0,p.Z)({root:{textAlign:"center",paddingTop:n.spacing(4)},table:{width:"max-content",minWidth:"50%"},button:{marginLeft:n.spacing(1),marginRight:n.spacing(1),verticalAlign:"bottom"},success:{color:"#009688"}})})),D=u(),C=new(f())(D);e.default=function(){var n=A({}),e=(0,x.useRouter)(),t=h.useState([]),c=(0,s.Z)(t,2),i=c[0],l=c[1],u=function(){var e=(0,a.Z)(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getAttendanceLog();case 3:t=e.sent,l(t.map((function(e){var t="Unknown";switch(e.uploadstatus){case 1:t=(0,E.jsx)("span",{className:n.success,children:"Has been processed"});break;case 3:t="Not first or not last time "}return{key:e.attendDate,time:o().utc(e.attendDate).format("DD MMM YYYY HH:mm:ss"),status:t}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("fail to get attendance log, error: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){return u(),function(){}}),[]),(0,E.jsxs)(h.Fragment,{children:[(0,E.jsx)(m.default,{children:(0,E.jsx)("title",{children:"Attendance Log - GreatDay Genie"})}),(0,E.jsx)("div",{className:n.root,style:{overflow:"hidden"},children:(0,E.jsxs)(j.Z,{container:!0,direction:"column",spacing:3,children:[(0,E.jsxs)(j.Z,{item:!0,xs:12,align:"left",children:[(0,E.jsx)(Z.Z,{variant:"contained",color:"secondary",className:n.button,onClick:u,children:"Refresh"}),(0,E.jsx)(Z.Z,{variant:"contained",color:"default",className:n.button,onClick:function(){e.push("/")},children:"Back to Home"})]}),(0,E.jsx)(j.Z,{item:!0,xs:12,children:(0,E.jsx)(b.Z,{component:v.Z,children:(0,E.jsxs)(k.Z,{className:n.table,"aria-label":"attendance log",children:[(0,E.jsx)(N.Z,{children:(0,E.jsxs)(y.Z,{children:[(0,E.jsx)(_.Z,{align:"left",children:"Attendance Time"}),(0,E.jsx)(_.Z,{align:"left",children:"Status"})]})}),(0,E.jsx)(w.Z,{children:i.map((function(n){return(0,E.jsxs)(y.Z,{children:[(0,E.jsx)(_.Z,{align:"left",children:n.time}),(0,E.jsx)(_.Z,{align:"left",children:n.status})]},n.key)}))})]})})})]})})]})}},6318:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/attendance_log",function(){return t(1766)}])}},function(n){n.O(0,[259,992,933,774,888,179],(function(){return e=6318,n(n.s=e);var e}));var e=n.O();_N_E=e}]);